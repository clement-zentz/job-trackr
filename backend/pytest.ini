; backend/pytest.ini
[pytest]

; Use pytest-asyncio automatic mode for async tests
asyncio_mode = auto

; Sets DJANGO_SETTINGS_MODULE before test collection
DJANGO_SETTINGS_MODULE = job_trackr.settings.test

; Tests are executed from the backend/ directory.
; Run tests with:
;   cd backend && pytest
testpaths = tests

; Make the backend/ directory importable as a top-level module.
; This allows imports such as:
;   - job_extraction
;   - job_trackr
;   - scripts
; Without modifying PYTHONPATH manually.
pythonpath =
    .
    job_trackr

; Standard pytest test file naming convention
python_files = test_*.py

; Explicitly declare custom markers to avoid
; pytest warnings and document intent.
markers =
    unit: fast isolated unit tests
    integration: tests requiring db, containers, api

; Silence known deprecation warnings emitted by testcontainers.postgres
; These warnings are outside our control and not actionable here.
filterwarnings =
    ignore:.*@wait_container_is_ready.*:DeprecationWarning
    ignore:.*wait_for_container_is_ready.*:DeprecationWarning

; NOTE:
; VS Code does NOT read pytest.ini pythonpath.
; Editor import resolution is configured in .vscode/settings.json
